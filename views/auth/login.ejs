<%- include('../includes/head.ejs') %>
</head>
<body>
<%- include('../includes/nav.ejs') %>

<main class="main">
    <form class="form" action="/login" method="post">

        <div class="card">
            <h1 class="main-title">
               Login
            </h1>
            <% if (errorMessage) { %>
                <p class="error"><%= errorMessage %></p>
            <% } %>
            <div class="form-group">
                <label class="form-label" for="email">E-mail</label>
                <input class="form-control <%= validationErrors.find(e => e.param === 'email') ? 'has-error' : ''%>"
                       type="email"
                       name="email"
                       id="email"
                       value="<%= formValues.email %>">
            </div>
            <div class="form-group">
                <label class="form-label" for="password">Password</label>
                <input class="form-control <%= validationErrors.find(e => e.param === 'password') ? 'has-error' : ''%>"
                       type="password"
                       name="password"
                       id="password"
                       value="<%= formValues.password %>">
            </div>
            <input type="hidden" name="_csrf" value="<%= csrfToken %>">
            <div class="part">
                <button class="btn btn--block" type="submit">
                    Login
                </button>
            </div>
            <div class="part align-right">
                <a class="link" href="/reset">Reset password</a>
            </div>
        </div>

    </form>
</main>
<%- include('../includes/end.ejs') %>
